(this.webpackJsonpshoppies=this.webpackJsonpshoppies||[]).push([[0],{71:function(e,n,t){},72:function(e,n,t){},79:function(e,n,t){"use strict";t.r(n);var o=t(0),i=t.n(o),a=t(10),c=t.n(a),r=(t(71),t(72),t(22)),s=t(59),l=t(12),d=t(2),m="shoppie-memory",u={maxNominationCount:5,nominations:[]},j=i.a.createContext({});function b(e){var n=e.children,t="addNomination",i="deleteNomination",a="reset",c=Object(o.useReducer)((function(e,n){switch(n.type){case t:if(e.nominations.length<e.maxNominationCount)return Object(l.a)(Object(l.a)({},e),{},{nominations:[].concat(Object(s.a)(e.nominations),[n.nomination])});case i:return Object(l.a)(Object(l.a)({},e),{},{nominations:e.nominations.filter((function(e){return e.imdbID!=n.nomination.imdbID}))});case a:return u;default:console.error("Unknown action: ".concat(n))}}),function(){var e=window.localStorage.getItem(m);return null!==e?JSON.parse(e):u}()),b=Object(r.a)(c,2),h=b[0],f=b[1];Object(o.useEffect)((function(){var e;console.log("app state changed, save to memory",h),e=h,window.localStorage.setItem(m,JSON.stringify(e))}),[h]);var p=Object(l.a)(Object(l.a)({},h),{},{onAddNomination:function(e){f({type:t,nomination:e})},onDeleteNomination:function(e){f({type:i,nomination:e})},onReset:function(){f({type:a})}});return Object(d.jsx)(j.Provider,{value:p,children:n})}j.displayName="AppContext";var h=function(){return Object(o.useContext)(j)},f=t(105),p=t(107),x=t(108),O=t(62),A=t(109),g=t(103),v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOQAAADdCAMAAACc/C7aAAAAaVBMVEXDw8MAAADGxsaXl5fJycnMzMxSUlKRkZF1dXV5eXnCwsIFBQWlpaV+fn66urqurq5dXV1sbGxMTEyKiopXV1czMzOcnJwaGhqoqKiEhIQlJSUrKysODg5mZmZHR0ezs7M7OzsVFRU5OTmFwHepAAAC+klEQVR4nO3bi1KjMBSAYXIarIbea2uttVXf/yE36Q0qobrITHP0/2Z2Zt2xDP+GQEDMMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANQ56dCtY+JcZge9zgzsrXvipGc61EtzLO29KbpKLMx9mkPpI83H410XFiblyGFufy7Ph0lHPnSya/aByFuqRv7sSqchUvwV83k4EHFtt6QhcrwOl4GXZdv9VBApq3CdK/w1c9nykNUQ+XK6pG/abin5SFmWy5Z+u6FMP7K6unttt6cKIqflSE4a9tQd/zRtKflI6ZeRw6Y9deFS2ryl5COzUXkzMWoIcZm45bixUkGkfd6PormyyBMZPxkzaVouKIjM7PAwjtPm/XRP4Rse8/hgaoh0djzdbl9XeePJxc7CUBdmHi/REOkPx3Bb2DTlnOwP6L34vNQReZ3szqffRXRa/oJIcetzpJnksS2pj3T5pPrIqmfr6wL9kbZvynWf/8uuPi21Rzrxa4WijCzMW/0j6iKdV/lSZPH5Ges0V3+4flqi+uV77Ql07QmCtkg7GlcumM4uI0/ZC+UjGe67FpVl+qhWGGw/f0pRpIS99aeWjTtV2rdopBleTktNkZkMwvmzMHf20BCaY42FWV3MXFWR2eZY8ezvpY/N8aF8UhuZz84jtV+Iu/d4YfiGu+oHFUX6e43i1LDODs1FfCT9P8+lXN7piZRxNWOS23nTOB7syvsRPZHZ+qKhv2uckMfBLqelmsjLew1/anlpOlbLwT5vSUeks/2rQVG9U5eSyLC0+f+3JE53XToiRT6+OjhjPjRFunz6dVHM9DAtVURG7zW+ZbAfSw2R0mpCHvi1vFMRabctC/1/zdaKisjTTwnaRIYfhCmIdHbQunF/Rl5J8pEizfca37Pxkzr5yNnXHdfNJPGRHNrRvP9D81HqkbnNO5D2W5K//X1XFyK7kuyby3/iHXTp8rcJVmk2/onfCwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALi1f4DsKck70eEzAAAAAElFTkSuQmCC",N=Object(g.a)((function(e){return{root:{display:"flex",marginTop:20},details:{display:"flex",flex:"1",flexDirection:"column"},content:{flex:"1 0 auto"},cover:{width:151},controls:{display:"flex",flexDirection:"row-reverse",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),paddingBottom:e.spacing(2)},button:{textTransform:"none",fontWeight:700,fontSize:"1rem"}}}));var y=function(e){var n=e.Title,t=e.Year,o=e.Poster,i=e.imdbID,a=h(),c="N/A"===o?v:o,r=N();return Object(d.jsxs)(f.a,{className:r.root,children:[Object(d.jsx)(p.a,{className:r.cover,image:c,title:n}),Object(d.jsxs)("div",{className:r.details,children:[Object(d.jsxs)(x.a,{className:r.content,children:[Object(d.jsx)(O.a,{component:"h5",variant:"h5",children:n}),Object(d.jsx)(O.a,{variant:"subtitle1",color:"textSecondary",children:t})]}),Object(d.jsx)("div",{className:r.controls,children:Object(d.jsx)(A.a,{className:r.button,color:"secondary",onClick:function(){a.onDeleteNomination({Title:n,Year:t,Poster:o,imdbID:i})},children:"Delete"})})]})]})},C=Object(g.a)((function(e){return{section:{height:"100%",display:"flex",flexDirection:"column",padding:e.spacing(2)},sectionContent:{marginTop:e.spacing(2),flex:1,overflow:"auto"},sectionContentEmpty:{justifyContent:"center",alignItems:"center"}}}));function R(e){var n=e.nominations,t=C();return 0===n.length?Object(d.jsx)(O.a,{variant:"h6",component:"h6",children:"No nomination added yet."}):Object(d.jsx)("div",{className:t.sectionContent,children:n.map((function(e,n){return Object(d.jsx)(y,Object(l.a)({},e),n)}))})}var S=Object(g.a)((function(e){return{root:{display:"flex",justifyContent:"center"}}}));function w(e){var n=e.nominationCount,t=e.maxNominationCount,o=S();return n<t?Object(d.jsx)("div",{className:o.root,children:Object(d.jsxs)(O.a,{variant:"h5",children:["You've made ",n," out of ",t," nominations!"]})}):Object(d.jsx)("div",{className:o.root,children:Object(d.jsxs)(O.a,{variant:"h5",children:["You've made all ",t," nominations!!!"]})})}var I=t(61),k=t(56),D=t.n(k),z=Object(g.a)((function(e){return{emptyIcon:{fontSize:70,marginBottom:e.spacing(1)}}}));function P(){var e=h(),n=C(),t=z();return 0==e.nominations.length?Object(d.jsxs)(I.a,{className:[n.section,n.sectionContentEmpty],children:[Object(d.jsx)(D.a,{color:"disabled",className:t.emptyIcon}),Object(d.jsx)(O.a,{variant:"h6",children:"You haven't added any nomination yet."}),Object(d.jsxs)(O.a,{variant:"subtitle1",children:["Search on the left section and nominate your favorite ",e.maxNominationCount," movies."]})]}):Object(d.jsxs)(I.a,{className:n.section,children:[Object(d.jsx)(w,{nominationCount:e.nominations.length,maxNominationCount:e.maxNominationCount}),Object(d.jsx)(R,{nominations:e.nominations})]})}var T=t(120),M=t(110),F=t(57),V=t.n(F),X=Object(g.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10}}}));function E(e){var n=e.onSearchQueryChange,t=X();return Object(d.jsxs)(I.a,{component:"form",className:t.root,children:[Object(d.jsx)(T.a,{className:t.input,placeholder:"Search movies to nominate ...",onChange:function(e){n(e.target.value)},inputProps:{"aria-label":"search movies"}}),Object(d.jsx)(M.a,{type:"submit",className:t.iconButton,"aria-label":"search",children:Object(d.jsx)(V.a,{})})]})}var G=t(111),Z=t(119),B=t(112),K=t(113),Q=t(114),Y=t(115),H=Object(g.a)((function(e){return{root:{display:"flex",marginTop:20},details:{display:"flex",flex:"1",flexDirection:"column"},content:{flex:"1 0 auto"},cover:{width:151},controls:{display:"flex",justifyContent:"flex-end",alignItems:"center",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),paddingBottom:e.spacing(2)},button:{textTransform:"none",fontWeight:700,fontSize:"1rem"}}})),U=i.a.forwardRef((function(e,n){return Object(d.jsx)(G.a,Object(l.a)({direction:"up",ref:n},e))}));var q=function(e){var n,t=e.Title,o=e.Year,a=e.Poster,c=e.imdbID,s=e.isNominated,l=i.a.useState(!1),m=Object(r.a)(l,2),u=m[0],j=m[1],b=h(),g=function(){j(!1)},N="N/A"===a?v:a,y=H();return n=s?Object(d.jsxs)("div",{className:y.controls,children:[Object(d.jsx)(O.a,{children:"You nominated this movie already."}),Object(d.jsx)(A.a,{color:"secondary",onClick:function(){b.onDeleteNomination({Title:t,Year:o,Poster:a,imdbID:c})},className:y.button,children:" Delete?"})]}):Object(d.jsxs)("div",{className:y.controls,children:[Object(d.jsx)(A.a,{className:y.button,variant:"contained",color:"primary",onClick:function(){b.nominations.length===b.maxNominationCount?j(!0):b.onAddNomination({Title:t,Year:o,Poster:a,imdbID:c})},children:"Nominate"}),Object(d.jsxs)(Z.a,{open:u,TransitionComponent:U,keepMounted:!0,onClose:g,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(d.jsx)(B.a,{id:"alert-dialog-slide-title",children:"You can only nominate up to ".concat(b.maxNominationCount," movies!")}),Object(d.jsx)(K.a,{children:Object(d.jsxs)(Q.a,{id:"alert-dialog-slide-description",children:["You've hit the limit of ",b.maxNominationCount," nominations. To nominated other movies, delete one or more from the nominated list."]})}),Object(d.jsx)(Y.a,{children:Object(d.jsx)(A.a,{onClick:g,color:"primary",children:"Ok"})})]})]}),Object(d.jsxs)(f.a,{className:y.root,children:[Object(d.jsx)(p.a,{className:y.cover,image:N,title:t}),Object(d.jsxs)("div",{className:y.details,children:[Object(d.jsxs)(x.a,{className:y.content,children:[Object(d.jsx)(O.a,{component:"h5",variant:"h5",children:t}),Object(d.jsx)(O.a,{variant:"subtitle1",color:"textSecondary",children:o})]}),n]})]})},J=t(58),W=t.n(J),L=Object(g.a)((function(e){return{root:{marginTop:e.spacing(2),flex:1,overflow:"auto"},noResult:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingTop:e.spacing(4),color:"rgba(0, 0, 0, 0.26)"},noResultIcon:{fontSize:40,marginBottom:e.spacing(1)}}}));function $(e){var n=e.results,t=e.nominations,o=void 0===t?[]:t,i=function(e){return o.map((function(e){return e.imdbID})).includes(e.imdbID)},a=L(),c=C();return null!==n.error?Object(d.jsxs)("div",{className:a.noResult,children:[Object(d.jsx)(W.a,{className:a.noResultIcon}),Object(d.jsx)(O.a,{variant:"subtitle1",children:n.error})]}):Object(d.jsx)("div",{className:c.sectionContent,children:n.movies.map((function(e,n){return Object(d.jsx)(q,Object(l.a)(Object(l.a)({},e),{},{isNominated:i(e)}),n)}))})}var _=t.p+"static/media/minions.0ea77137.png",ee=Object(g.a)((function(e){return{initialScreen:{justifyContent:"center",backgroundImage:"url('".concat(_,"')"),backgroundRepeat:"no",backgroundSize:"cover"}}}));function ne(){var e=Object(o.useState)({result:null,error:null}),n=Object(r.a)(e,2),t=n[0],i=n[1],a=Object(o.useState)(""),c=Object(r.a)(a,2),s=c[0],l=c[1],m=h();Object(o.useEffect)((function(){if(s.length<=0)i([]);else{var e="https://ruowent.github.io/the-shoppies/http://www.omdbapi.com/?s=".concat(s,"&apikey=").concat("b27bd681");fetch(e).then((function(e){return e.json()})).then((function(e){console.log("Found: ".concat(JSON.stringify(e))),"False"===e.Response?i({movies:null,error:e.Error}):i({movies:e.Search,error:null})})).catch((function(e){console.log("Failed with ".concat(e)),i({movies:null,error:e})}))}}),[s]);var u=C(),j=ee();return 0===s.length?Object(d.jsx)(I.a,{className:[u.section,j.initialScreen],children:Object(d.jsx)(E,{onSearchQueryChange:l})}):Object(d.jsxs)(I.a,{className:u.section,children:[Object(d.jsx)(E,{onSearchQueryChange:l}),Object(d.jsx)($,{results:t,nominations:m.nominations})]})}var te=t(118),oe=t(116),ie=t(117),ae=Object(g.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function ce(){var e=h(),n=ae();return Object(d.jsx)("div",{className:n.root,children:Object(d.jsx)(oe.a,{position:"static",children:Object(d.jsxs)(ie.a,{children:[Object(d.jsx)(O.a,{variant:"h6",className:n.title,children:"Shoppie"}),Object(d.jsx)(A.a,{color:"inherit",onClick:e.onReset,children:"Reset"})]})})})}var re=Object(g.a)((function(e){return{root:{flexGrow:1,alignItems:"stretch",height:"100%",padding:e.spacing(4)},container:{height:"100%"},control:{padding:e.spacing(2)}}}));var se=function(){var e=re();return Object(d.jsxs)(b,{children:[Object(d.jsx)(ce,{}),Object(d.jsxs)(te.a,{container:!0,justify:"center",className:e.root,spacing:3,children:[Object(d.jsx)(te.a,{item:!0,xs:6,className:e.container,children:Object(d.jsx)(ne,{})}),Object(d.jsx)(te.a,{item:!0,xs:6,className:e.container,children:Object(d.jsx)(P,{})})]})]})};c.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(se,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.dbe74dff.chunk.js.map